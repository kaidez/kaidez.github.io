---
layout: layouts/base.njk
pagination:
  data: collections.allSecondaryTags
  size: 1
  alias: tagName
permalink: /tags/{{ tagName }}/
---

<div class="container">
    <header class="category-header">
        <h1>Secondary Tag: "{{ tagName }}"</h1>
        <p class="category-description">
            Posts tagged with secondary tag "{{ tagName }}"
        </p>
    </header>
    
    <div class="posts-grid">
        {% set taggedPosts = collections.all | filterBySecondaryTag(tagName) %}
        {% for post in taggedPosts | reverse %}
        <article class="post-card">
            <h3>
                <a href="{{ post.url }}">{{ post.data.title }}</a>
            </h3>
            
            <div class="post-meta">
                <time datetime="{{ post.date | htmlDateString }}">
                    {{ post.date | readableDate }}
                </time>
                
                {% if post.data.tags %}
                <div class="post-tags">
                    {% for tag in post.data.tags %}
                    {% if tag != "posts" %}
                    <span class="tag">#{{ tag }}</span>
                    {% endif %}
                    {% endfor %}
                </div>
                {% endif %}

                {% if post.data.secondary_tags %}
                <div class="post-secondary-tags">
                    {% for secTag in post.data.secondary_tags %}
                    <span class="secondary-tag">{{ secTag }}</span>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
            
            {% if post.data.excerpt %}
            <p class="post-excerpt">{{ post.data.excerpt }}</p>
            {% else %}
            <p class="post-excerpt">{{ post.templateContent | excerpt }}</p>
            {% endif %}
        </article>
        {% endfor %}
        
        {% if taggedPosts.length == 0 %}
        <div class="no-posts">
            <p>No posts with this secondary tag yet.</p>
            <a href="/tags/" class="button">Back to Tags</a>
        </div>
        {% endif %}
    </div>
</div>

<style>
.post-secondary-tags {
    margin-top: var(--space-2);
}

.secondary-tag {
    display: inline-block;
    background: var(--color-accent);
    color: white;
    padding: var(--space-1) var(--space-2);
    border-radius: var(--border-radius-sm);
    font-size: var(--text-xs);
    margin-right: var(--space-1);
    margin-bottom: var(--space-1);
}
</style>
